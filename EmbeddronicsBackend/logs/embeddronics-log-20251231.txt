2025-12-31 22:15:16.486 +05:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-31 22:15:16.714 +05:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-31 22:15:17.150 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Role] = N'admin'
2025-12-31 22:15:17.289 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Role] = N'admin') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-31 22:15:17.462 +05:00 [INF] User profile is available. Using 'C:\Users\faizannazir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-31 22:15:17.482 +05:00 [INF] Quote Expiration Service started
2025-12-31 22:15:17.608 +05:00 [INF] Now listening on: http://localhost:5000
2025-12-31 22:15:17.610 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-31 22:15:17.612 +05:00 [INF] Hosting environment: Development
2025-12-31 22:15:17.613 +05:00 [INF] Content root path: E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend
2025-12-31 22:15:17.633 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Amount], [q].[ClientId], [q].[CreatedAt], [q].[Currency], [q].[OrderId], [q].[Status], [q].[UpdatedAt], [q].[ValidUntil], [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Quotes] AS [q]
INNER JOIN [Users] AS [u] ON [q].[ClientId] = [u].[Id]
WHERE [q].[ValidUntil] < GETUTCDATE() AND [q].[Status] = N'pending'
2025-12-31 22:15:22.180 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2025-12-31 22:15:22.246 +05:00 [INF] Processing request 0HNI8I0N39DR5:00000001: GET / by user anonymous
2025-12-31 22:15:22.290 +05:00 [WRN] Failed to determine the https port for redirect.
2025-12-31 22:15:24.566 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-31 22:15:24.571 +05:00 [WRN] JWT Challenge triggered: null
2025-12-31 22:15:24.574 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-31 22:15:24.576 +05:00 [INF] Request 0HNI8I0N39DR5:00000001 completed successfully with status 401
2025-12-31 22:15:24.592 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 401 0 null 2411.4901ms
2025-12-31 22:15:27.228 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/ - null null
2025-12-31 22:15:27.234 +05:00 [INF] Processing request 0HNI8I0N39DR7:00000001: GET /Home/ by user anonymous
2025-12-31 22:15:27.248 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-31 22:15:27.250 +05:00 [WRN] JWT Challenge triggered: null
2025-12-31 22:15:27.252 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-31 22:15:27.258 +05:00 [INF] Request 0HNI8I0N39DR7:00000001 completed successfully with status 401
2025-12-31 22:15:27.268 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Home/ - 401 0 null 40.1213ms
2025-12-31 22:15:34.283 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger - null null
2025-12-31 22:15:34.286 +05:00 [INF] Processing request 0HNI8I0N39DR7:00000002: GET /swagger by user anonymous
2025-12-31 22:15:34.289 +05:00 [INF] Request 0HNI8I0N39DR7:00000002 completed successfully with status 301
2025-12-31 22:15:34.290 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger - 301 0 null 7.5191ms
2025-12-31 22:15:34.311 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2025-12-31 22:15:34.322 +05:00 [INF] Processing request 0HNI8I0N39DR7:00000003: GET /swagger/index.html by user anonymous
2025-12-31 22:15:34.492 +05:00 [INF] Request 0HNI8I0N39DR7:00000003 completed successfully with status 200
2025-12-31 22:15:34.493 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 182.3742ms
2025-12-31 22:15:34.504 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js - null null
2025-12-31 22:15:34.504 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js - null null
2025-12-31 22:15:34.505 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui.css - null null
2025-12-31 22:15:34.506 +05:00 [INF] Processing request 0HNI8I0N39DR8:00000001: GET /swagger/swagger-ui-bundle.js by user anonymous
2025-12-31 22:15:34.508 +05:00 [INF] Processing request 0HNI8I0N39DR9:00000001: GET /swagger/swagger-ui-standalone-preset.js by user anonymous
2025-12-31 22:15:34.509 +05:00 [INF] Processing request 0HNI8I0N39DR7:00000004: GET /swagger/swagger-ui.css by user anonymous
2025-12-31 22:15:34.569 +05:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-12-31 22:15:34.569 +05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-12-31 22:15:34.576 +05:00 [INF] Request 0HNI8I0N39DR7:00000004 completed successfully with status 200
2025-12-31 22:15:34.576 +05:00 [INF] Request 0HNI8I0N39DR9:00000001 completed successfully with status 200
2025-12-31 22:15:34.579 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui.css - 200 152034 text/css 72.967ms
2025-12-31 22:15:34.580 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 74.8703ms
2025-12-31 22:15:34.595 +05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-12-31 22:15:34.597 +05:00 [INF] Request 0HNI8I0N39DR8:00000001 completed successfully with status 200
2025-12-31 22:15:34.599 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 93.9923ms
2025-12-31 22:15:34.830 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-12-31 22:15:34.832 +05:00 [INF] Processing request 0HNI8I0N39DR8:00000002: GET /swagger/v1/swagger.json by user anonymous
2025-12-31 22:15:35.047 +05:00 [INF] Request 0HNI8I0N39DR8:00000002 completed successfully with status 200
2025-12-31 22:15:35.048 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 218.376ms
2025-12-31 22:16:20.053 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Auth/login - application/json 87
2025-12-31 22:16:20.057 +05:00 [INF] Processing request 0HNI8I0N39DRA:00000001: POST /api/Auth/login by user anonymous
2025-12-31 22:16:20.060 +05:00 [INF] CORS policy execution failed.
2025-12-31 22:16:20.061 +05:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-12-31 22:16:20.079 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.AuthController.Login (EmbeddronicsBackend)'
2025-12-31 22:16:20.130 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmbeddronicsBackend.Models.ApiResponse`1[EmbeddronicsBackend.Models.DTOs.AuthResult]]] Login(EmbeddronicsBackend.Models.DTOs.LoginRequest) on controller EmbeddronicsBackend.Controllers.AuthController (EmbeddronicsBackend).
2025-12-31 22:16:20.260 +05:00 [INF] Login attempt for email: faizannazir289@gmail.com
2025-12-31 22:16:20.513 +05:00 [INF] Executed DbCommand (136ms) [Parameters=[@__request_Email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-12-31 22:16:21.129 +05:00 [INF] OTP generated for user: faizannazir289@gmail.com, OTP: 386592
2025-12-31 22:16:21.137 +05:00 [INF] Executing OkObjectResult, writing value of type 'EmbeddronicsBackend.Models.ApiResponse`1[[EmbeddronicsBackend.Models.DTOs.AuthResult, EmbeddronicsBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-31 22:16:21.179 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.AuthController.Login (EmbeddronicsBackend) in 1041.5033ms
2025-12-31 22:16:21.182 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.AuthController.Login (EmbeddronicsBackend)'
2025-12-31 22:16:21.184 +05:00 [INF] Request 0HNI8I0N39DRA:00000001 completed successfully with status 200
2025-12-31 22:16:21.187 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Auth/login - 200 null application/json; charset=utf-8 1134.3518ms
2025-12-31 22:16:43.012 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Auth/refresh-token - application/json 30
2025-12-31 22:16:43.018 +05:00 [INF] Processing request 0HNI8I0N39DRA:00000002: POST /api/Auth/refresh-token by user anonymous
2025-12-31 22:16:43.021 +05:00 [INF] CORS policy execution failed.
2025-12-31 22:16:43.024 +05:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-12-31 22:16:43.026 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.AuthController.RefreshToken (EmbeddronicsBackend)'
2025-12-31 22:16:43.040 +05:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmbeddronicsBackend.Models.ApiResponse`1[EmbeddronicsBackend.Models.DTOs.AuthResult]]] RefreshToken(EmbeddronicsBackend.Models.DTOs.RefreshTokenRequest) on controller EmbeddronicsBackend.Controllers.AuthController (EmbeddronicsBackend).
2025-12-31 22:16:43.075 +05:00 [INF] Refresh token attempt
2025-12-31 22:16:43.114 +05:00 [INF] Executed DbCommand (15ms) [Parameters=[@__refreshToken_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-12-31 22:16:43.117 +05:00 [WRN] Refresh token validation failed
2025-12-31 22:16:43.123 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'EmbeddronicsBackend.Models.ApiResponse`1[[EmbeddronicsBackend.Models.DTOs.AuthResult, EmbeddronicsBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-31 22:16:43.125 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.AuthController.RefreshToken (EmbeddronicsBackend) in 79.2055ms
2025-12-31 22:16:43.129 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.AuthController.RefreshToken (EmbeddronicsBackend)'
2025-12-31 22:16:43.130 +05:00 [INF] Request 0HNI8I0N39DRA:00000002 completed successfully with status 400
2025-12-31 22:16:43.134 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Auth/refresh-token - 400 null application/json; charset=utf-8 121.4755ms
2025-12-31 22:17:12.753 +05:00 [INF] Application is shutting down...
2025-12-31 22:17:12.762 +05:00 [INF] Quote Expiration Service is stopping
2025-12-31 22:17:12.765 +05:00 [INF] Quote Expiration Service stopped
2025-12-31 22:37:03.252 +05:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-31 22:37:03.757 +05:00 [INF] Executed DbCommand (419ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-31 22:37:04.036 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Role] = N'admin'
2025-12-31 22:37:04.163 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Role] = N'admin') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-31 22:37:04.321 +05:00 [INF] User profile is available. Using 'C:\Users\faizannazir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-31 22:37:04.335 +05:00 [INF] Quote Expiration Service started
2025-12-31 22:37:04.446 +05:00 [INF] Now listening on: http://localhost:5000
2025-12-31 22:37:04.446 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-31 22:37:04.447 +05:00 [INF] Hosting environment: Development
2025-12-31 22:37:04.448 +05:00 [INF] Content root path: E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend
2025-12-31 22:37:04.457 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Amount], [q].[ClientId], [q].[CreatedAt], [q].[Currency], [q].[OrderId], [q].[Status], [q].[UpdatedAt], [q].[ValidUntil], [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Quotes] AS [q]
INNER JOIN [Users] AS [u] ON [q].[ClientId] = [u].[Id]
WHERE [q].[ValidUntil] < GETUTCDATE() AND [q].[Status] = N'pending'
2025-12-31 22:37:20.041 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2025-12-31 22:37:20.115 +05:00 [INF] Processing request 0HNI8ICVRD3JH:00000001: GET /swagger/index.html by user anonymous
2025-12-31 22:37:20.227 +05:00 [INF] Request 0HNI8ICVRD3JH:00000001 completed successfully with status 200
2025-12-31 22:37:20.231 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 192.944ms
2025-12-31 22:37:20.515 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-12-31 22:37:20.518 +05:00 [INF] Processing request 0HNI8ICVRD3JH:00000002: GET /swagger/v1/swagger.json by user anonymous
2025-12-31 22:37:20.696 +05:00 [INF] Request 0HNI8ICVRD3JH:00000002 completed successfully with status 200
2025-12-31 22:37:20.698 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 183.0265ms
2025-12-31 22:38:22.747 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Auth/login - application/json 87
2025-12-31 22:38:22.751 +05:00 [INF] Processing request 0HNI8ICVRD3JJ:00000001: POST /api/Auth/login by user anonymous
2025-12-31 22:38:22.759 +05:00 [WRN] Failed to determine the https port for redirect.
2025-12-31 22:38:22.765 +05:00 [INF] CORS policy execution failed.
2025-12-31 22:38:22.767 +05:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-12-31 22:38:22.828 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.AuthController.Login (EmbeddronicsBackend)'
2025-12-31 22:38:22.859 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmbeddronicsBackend.Models.ApiResponse`1[EmbeddronicsBackend.Models.DTOs.AuthResult]]] Login(EmbeddronicsBackend.Models.DTOs.LoginRequest) on controller EmbeddronicsBackend.Controllers.AuthController (EmbeddronicsBackend).
2025-12-31 22:38:22.955 +05:00 [INF] Login attempt for email: faizannazir289@gmail.com
2025-12-31 22:38:23.081 +05:00 [INF] Executed DbCommand (27ms) [Parameters=[@__request_Email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-12-31 22:38:23.811 +05:00 [INF] Access token generated for user 1 (faizannazir289@gmail.com) with role admin
2025-12-31 22:38:23.950 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 500), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-12-31 22:38:23.963 +05:00 [INF] Refresh token saved for user 1
2025-12-31 22:38:23.965 +05:00 [INF] Login successful for user: faizannazir289@gmail.com
2025-12-31 22:38:23.983 +05:00 [INF] Executing OkObjectResult, writing value of type 'EmbeddronicsBackend.Models.ApiResponse`1[[EmbeddronicsBackend.Models.DTOs.AuthResult, EmbeddronicsBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-31 22:38:24.037 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.AuthController.Login (EmbeddronicsBackend) in 1172.6872ms
2025-12-31 22:38:24.039 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.AuthController.Login (EmbeddronicsBackend)'
2025-12-31 22:38:24.042 +05:00 [INF] Request 0HNI8ICVRD3JJ:00000001 completed successfully with status 200
2025-12-31 22:38:24.050 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Auth/login - 200 null application/json; charset=utf-8 1303.4255ms
2025-12-31 22:38:58.515 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Admin/dashboard - null null
2025-12-31 22:38:58.519 +05:00 [INF] Processing request 0HNI8ICVRD3JK:00000001: GET /api/Admin/dashboard by user anonymous
2025-12-31 22:38:58.538 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-12-31 22:38:58.566 +05:00 [WRN] JWT Challenge triggered: null
2025-12-31 22:38:58.574 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-31 22:38:58.575 +05:00 [INF] Request 0HNI8ICVRD3JK:00000001 completed successfully with status 401
2025-12-31 22:38:58.577 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Admin/dashboard - 401 0 null 61.8277ms
2025-12-31 22:39:21.542 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Admin/dashboard - null null
2025-12-31 22:39:21.545 +05:00 [INF] Processing request 0HNI8ICVRD3JL:00000001: GET /api/Admin/dashboard by user anonymous
2025-12-31 22:39:21.591 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-12-31 22:39:21.593 +05:00 [WRN] JWT Challenge triggered: null
2025-12-31 22:39:21.597 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-31 22:39:21.598 +05:00 [INF] Request 0HNI8ICVRD3JL:00000001 completed successfully with status 401
2025-12-31 22:39:21.600 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Admin/dashboard - 401 0 null 57.9334ms
2025-12-31 22:41:18.881 +05:00 [INF] Application is shutting down...
2025-12-31 22:41:18.889 +05:00 [INF] Quote Expiration Service is stopping
2025-12-31 22:41:18.893 +05:00 [INF] Quote Expiration Service stopped
2025-12-31 22:58:21.202 +05:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-31 22:58:21.362 +05:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-31 22:58:21.635 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Role] = N'admin'
2025-12-31 22:58:21.738 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Role] = N'admin') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-31 22:58:21.884 +05:00 [INF] User profile is available. Using 'C:\Users\faizannazir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-31 22:58:21.899 +05:00 [INF] Quote Expiration Service started
2025-12-31 22:58:22.021 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Amount], [q].[ClientId], [q].[CreatedAt], [q].[Currency], [q].[OrderId], [q].[Status], [q].[UpdatedAt], [q].[ValidUntil], [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Quotes] AS [q]
INNER JOIN [Users] AS [u] ON [q].[ClientId] = [u].[Id]
WHERE [q].[ValidUntil] < GETUTCDATE() AND [q].[Status] = N'pending'
2025-12-31 22:58:22.040 +05:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2025-12-31 22:58:22.072 +05:00 [INF] Now listening on: https://localhost:7001
2025-12-31 22:58:22.074 +05:00 [INF] Now listening on: http://localhost:5001
2025-12-31 22:58:22.076 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-31 22:58:22.076 +05:00 [INF] Hosting environment: Development
2025-12-31 22:58:22.077 +05:00 [INF] Content root path: E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend
2025-12-31 22:58:30.022 +05:00 [INF] Application is shutting down...
2025-12-31 22:58:30.032 +05:00 [INF] Quote Expiration Service is stopping
2025-12-31 22:58:30.036 +05:00 [INF] Quote Expiration Service stopped
2025-12-31 23:00:57.500 +05:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-31 23:00:57.612 +05:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-31 23:00:57.813 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Role] = N'admin'
2025-12-31 23:00:57.896 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Role] = N'admin') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-31 23:00:58.006 +05:00 [INF] User profile is available. Using 'C:\Users\faizannazir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-31 23:00:58.025 +05:00 [INF] Quote Expiration Service started
2025-12-31 23:00:58.102 +05:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2025-12-31 23:00:58.124 +05:00 [INF] Now listening on: https://localhost:7001
2025-12-31 23:00:58.125 +05:00 [INF] Now listening on: http://localhost:5001
2025-12-31 23:00:58.126 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Amount], [q].[ClientId], [q].[CreatedAt], [q].[Currency], [q].[OrderId], [q].[Status], [q].[UpdatedAt], [q].[ValidUntil], [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Quotes] AS [q]
INNER JOIN [Users] AS [u] ON [q].[ClientId] = [u].[Id]
WHERE [q].[ValidUntil] < GETUTCDATE() AND [q].[Status] = N'pending'
2025-12-31 23:00:58.127 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-31 23:00:58.130 +05:00 [INF] Hosting environment: Development
2025-12-31 23:00:58.130 +05:00 [INF] Content root path: E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend
2025-12-31 23:04:56.772 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/swagger/index.html - null null
2025-12-31 23:04:56.829 +05:00 [INF] Processing request 0HNI8ISDJ8UJF:00000001: GET /swagger/index.html by user anonymous
2025-12-31 23:04:56.933 +05:00 [INF] Request 0HNI8ISDJ8UJF:00000001 completed successfully with status 200
2025-12-31 23:04:56.936 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 166.6351ms
2025-12-31 23:04:56.948 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/swagger/swagger-ui.css - null null
2025-12-31 23:04:56.948 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/swagger/swagger-ui-bundle.js - null null
2025-12-31 23:04:56.948 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2025-12-31 23:04:56.951 +05:00 [INF] Processing request 0HNI8ISDJ8UJF:00000002: GET /swagger/swagger-ui.css by user anonymous
2025-12-31 23:04:56.951 +05:00 [INF] Processing request 0HNI8ISDJ8UJG:00000001: GET /swagger/swagger-ui-bundle.js by user anonymous
2025-12-31 23:04:56.953 +05:00 [INF] Processing request 0HNI8ISDJ8UJH:00000001: GET /swagger/swagger-ui-standalone-preset.js by user anonymous
2025-12-31 23:04:56.989 +05:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-12-31 23:04:56.989 +05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-12-31 23:04:56.992 +05:00 [INF] Request 0HNI8ISDJ8UJH:00000001 completed successfully with status 200
2025-12-31 23:04:56.996 +05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-12-31 23:04:56.999 +05:00 [INF] Request 0HNI8ISDJ8UJF:00000002 completed successfully with status 200
2025-12-31 23:04:57.002 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 53.9981ms
2025-12-31 23:04:57.002 +05:00 [INF] Request 0HNI8ISDJ8UJG:00000001 completed successfully with status 200
2025-12-31 23:04:57.012 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 65.0101ms
2025-12-31 23:04:57.005 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/swagger/swagger-ui.css - 200 152034 text/css 57.4908ms
2025-12-31 23:04:57.276 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/swagger/v1/swagger.json - null null
2025-12-31 23:04:57.279 +05:00 [INF] Processing request 0HNI8ISDJ8UJG:00000002: GET /swagger/v1/swagger.json by user anonymous
2025-12-31 23:04:57.301 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/swagger/favicon-32x32.png - null null
2025-12-31 23:04:57.305 +05:00 [INF] Processing request 0HNI8ISDJ8UJH:00000002: GET /swagger/favicon-32x32.png by user anonymous
2025-12-31 23:04:57.308 +05:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-12-31 23:04:57.311 +05:00 [INF] Request 0HNI8ISDJ8UJH:00000002 completed successfully with status 200
2025-12-31 23:04:57.314 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/swagger/favicon-32x32.png - 200 628 image/png 12.9222ms
2025-12-31 23:04:57.537 +05:00 [INF] Request 0HNI8ISDJ8UJG:00000002 completed successfully with status 200
2025-12-31 23:04:57.539 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 262.4735ms
2025-12-31 23:05:30.411 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/Auth/login - application/json 87
2025-12-31 23:05:30.414 +05:00 [INF] Processing request 0HNI8ISDJ8UJI:00000001: POST /api/Auth/login by user anonymous
2025-12-31 23:05:30.416 +05:00 [INF] Request 0HNI8ISDJ8UJI:00000001 completed successfully with status 307
2025-12-31 23:05:30.418 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/Auth/login - 307 0 null 6.1116ms
2025-12-31 23:06:19.446 +05:00 [INF] Application is shutting down...
2025-12-31 23:06:19.454 +05:00 [INF] Quote Expiration Service is stopping
2025-12-31 23:06:19.458 +05:00 [INF] Quote Expiration Service stopped
2025-12-31 23:08:05.053 +05:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-31 23:08:05.203 +05:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-31 23:08:05.559 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Role] = N'admin'
2025-12-31 23:08:05.687 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Role] = N'admin') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-31 23:08:05.851 +05:00 [INF] User profile is available. Using 'C:\Users\faizannazir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-31 23:08:05.867 +05:00 [INF] Quote Expiration Service started
2025-12-31 23:08:06.066 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Amount], [q].[ClientId], [q].[CreatedAt], [q].[Currency], [q].[OrderId], [q].[Status], [q].[UpdatedAt], [q].[ValidUntil], [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Quotes] AS [q]
INNER JOIN [Users] AS [u] ON [q].[ClientId] = [u].[Id]
WHERE [q].[ValidUntil] < GETUTCDATE() AND [q].[Status] = N'pending'
2025-12-31 23:08:06.069 +05:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2025-12-31 23:08:06.100 +05:00 [INF] Now listening on: https://localhost:7001
2025-12-31 23:08:06.101 +05:00 [INF] Now listening on: http://localhost:5001
2025-12-31 23:08:06.102 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-31 23:08:06.102 +05:00 [INF] Hosting environment: Development
2025-12-31 23:08:06.103 +05:00 [INF] Content root path: E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend
2025-12-31 23:08:09.885 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/ - null null
2025-12-31 23:08:09.990 +05:00 [INF] Processing request 0HNI8IU74R7IK:00000001: GET / by user anonymous
2025-12-31 23:08:10.034 +05:00 [INF] Request 0HNI8IU74R7IK:00000001 completed successfully with status 307
2025-12-31 23:08:10.043 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/ - 307 0 null 166.3347ms
2025-12-31 23:08:31.744 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/ - null null
2025-12-31 23:08:31.746 +05:00 [INF] Processing request 0HNI8IU74R7IR:00000001: GET / by user anonymous
2025-12-31 23:08:31.750 +05:00 [INF] Request 0HNI8IU74R7IR:00000001 completed successfully with status 307
2025-12-31 23:08:31.753 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/ - 307 0 null 9.081ms
2025-12-31 23:08:40.381 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/swagger/index.html - null null
2025-12-31 23:08:40.384 +05:00 [INF] Processing request 0HNI8IU74R7IU:00000001: GET /swagger/index.html by user anonymous
2025-12-31 23:08:40.547 +05:00 [INF] Request 0HNI8IU74R7IU:00000001 completed successfully with status 200
2025-12-31 23:08:40.548 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 167.2113ms
2025-12-31 23:08:40.828 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/swagger/v1/swagger.json - null null
2025-12-31 23:08:40.830 +05:00 [INF] Processing request 0HNI8IU74R7IU:00000002: GET /swagger/v1/swagger.json by user anonymous
2025-12-31 23:08:41.094 +05:00 [INF] Request 0HNI8IU74R7IU:00000002 completed successfully with status 200
2025-12-31 23:08:41.095 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 267.6289ms
2025-12-31 23:09:13.712 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/Auth/login - application/json 87
2025-12-31 23:09:13.717 +05:00 [INF] Processing request 0HNI8IU74R7J0:00000001: POST /api/Auth/login by user anonymous
2025-12-31 23:09:13.720 +05:00 [INF] Request 0HNI8IU74R7J0:00000001 completed successfully with status 307
2025-12-31 23:09:13.720 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/Auth/login - 307 0 null 8.3158ms
2025-12-31 23:11:48.640 +05:00 [INF] Application is shutting down...
2025-12-31 23:11:48.648 +05:00 [INF] Quote Expiration Service is stopping
2025-12-31 23:11:48.651 +05:00 [INF] Quote Expiration Service stopped
2025-12-31 23:12:35.638 +05:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-31 23:12:35.750 +05:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-31 23:12:36.063 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Role] = N'admin'
2025-12-31 23:12:36.171 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Role] = N'admin') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-31 23:12:36.332 +05:00 [INF] User profile is available. Using 'C:\Users\faizannazir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-31 23:12:36.343 +05:00 [INF] Quote Expiration Service started
2025-12-31 23:12:36.434 +05:00 [INF] Now listening on: http://localhost:5046
2025-12-31 23:12:36.434 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-31 23:12:36.435 +05:00 [INF] Hosting environment: Development
2025-12-31 23:12:36.435 +05:00 [INF] Content root path: E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend
2025-12-31 23:12:36.458 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Amount], [q].[ClientId], [q].[CreatedAt], [q].[Currency], [q].[OrderId], [q].[Status], [q].[UpdatedAt], [q].[ValidUntil], [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Quotes] AS [q]
INNER JOIN [Users] AS [u] ON [q].[ClientId] = [u].[Id]
WHERE [q].[ValidUntil] < GETUTCDATE() AND [q].[Status] = N'pending'
2025-12-31 23:12:39.596 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/ - null null
2025-12-31 23:12:39.672 +05:00 [INF] Processing request 0HNI8J0NH87NT:00000001: GET / by user anonymous
2025-12-31 23:12:39.710 +05:00 [WRN] Failed to determine the https port for redirect.
2025-12-31 23:12:41.521 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-31 23:12:41.537 +05:00 [WRN] JWT Challenge triggered: null
2025-12-31 23:12:41.539 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-31 23:12:41.544 +05:00 [INF] Request 0HNI8J0NH87NT:00000001 completed successfully with status 401
2025-12-31 23:12:41.553 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/ - 401 0 null 1962.2334ms
2025-12-31 23:12:43.375 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/swagger - null null
2025-12-31 23:12:43.380 +05:00 [INF] Processing request 0HNI8J0NH87NT:00000002: GET /swagger by user anonymous
2025-12-31 23:12:43.384 +05:00 [INF] Request 0HNI8J0NH87NT:00000002 completed successfully with status 301
2025-12-31 23:12:43.385 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/swagger - 301 0 null 10.0999ms
2025-12-31 23:12:43.408 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/swagger/index.html - null null
2025-12-31 23:12:43.413 +05:00 [INF] Processing request 0HNI8J0NH87NT:00000003: GET /swagger/index.html by user anonymous
2025-12-31 23:12:43.552 +05:00 [INF] Request 0HNI8J0NH87NT:00000003 completed successfully with status 200
2025-12-31 23:12:43.555 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/swagger/index.html - 200 null text/html;charset=utf-8 146.1584ms
2025-12-31 23:12:43.567 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/swagger/swagger-ui.css - null null
2025-12-31 23:12:43.579 +05:00 [INF] Processing request 0HNI8J0NH87NT:00000004: GET /swagger/swagger-ui.css by user anonymous
2025-12-31 23:12:43.576 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/swagger/swagger-ui-bundle.js - null null
2025-12-31 23:12:43.569 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/swagger/swagger-ui-standalone-preset.js - null null
2025-12-31 23:12:43.591 +05:00 [INF] Processing request 0HNI8J0NH87NV:00000001: GET /swagger/swagger-ui-bundle.js by user anonymous
2025-12-31 23:12:43.593 +05:00 [INF] Processing request 0HNI8J0NH87O0:00000001: GET /swagger/swagger-ui-standalone-preset.js by user anonymous
2025-12-31 23:12:43.631 +05:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-12-31 23:12:43.631 +05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-12-31 23:12:43.637 +05:00 [INF] Request 0HNI8J0NH87O0:00000001 completed successfully with status 200
2025-12-31 23:12:43.637 +05:00 [INF] Request 0HNI8J0NH87NT:00000004 completed successfully with status 200
2025-12-31 23:12:43.640 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 71.2826ms
2025-12-31 23:12:43.641 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/swagger/swagger-ui.css - 200 152034 text/css 74.5378ms
2025-12-31 23:12:43.643 +05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-12-31 23:12:43.646 +05:00 [INF] Request 0HNI8J0NH87NV:00000001 completed successfully with status 200
2025-12-31 23:12:43.647 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 70.8477ms
2025-12-31 23:12:43.849 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/swagger/v1/swagger.json - null null
2025-12-31 23:12:43.851 +05:00 [INF] Processing request 0HNI8J0NH87NV:00000002: GET /swagger/v1/swagger.json by user anonymous
2025-12-31 23:12:43.867 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/swagger/favicon-32x32.png - null null
2025-12-31 23:12:43.869 +05:00 [INF] Processing request 0HNI8J0NH87O0:00000002: GET /swagger/favicon-32x32.png by user anonymous
2025-12-31 23:12:43.873 +05:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-12-31 23:12:43.875 +05:00 [INF] Request 0HNI8J0NH87O0:00000002 completed successfully with status 200
2025-12-31 23:12:43.880 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/swagger/favicon-32x32.png - 200 628 image/png 13.7369ms
2025-12-31 23:12:44.118 +05:00 [INF] Request 0HNI8J0NH87NV:00000002 completed successfully with status 200
2025-12-31 23:12:44.120 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 270.3703ms
2025-12-31 23:13:17.702 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5046/api/Auth/login - application/json 87
2025-12-31 23:13:17.706 +05:00 [INF] Processing request 0HNI8J0NH87O1:00000001: POST /api/Auth/login by user anonymous
2025-12-31 23:13:17.710 +05:00 [INF] CORS policy execution successful.
2025-12-31 23:13:17.721 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.AuthController.Login (EmbeddronicsBackend)'
2025-12-31 23:13:17.761 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmbeddronicsBackend.Models.ApiResponse`1[EmbeddronicsBackend.Models.DTOs.AuthResult]]] Login(EmbeddronicsBackend.Models.DTOs.LoginRequest) on controller EmbeddronicsBackend.Controllers.AuthController (EmbeddronicsBackend).
2025-12-31 23:13:17.860 +05:00 [INF] Login attempt for email: faizannazir289@gmail.com
2025-12-31 23:13:18.063 +05:00 [INF] Executed DbCommand (115ms) [Parameters=[@__request_Email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-12-31 23:13:18.896 +05:00 [INF] Access token generated for user 1 (faizannazir289@gmail.com) with role admin
2025-12-31 23:13:19.012 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 500), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-12-31 23:13:19.026 +05:00 [INF] Refresh token saved for user 1
2025-12-31 23:13:19.027 +05:00 [INF] Login successful for user: faizannazir289@gmail.com
2025-12-31 23:13:19.035 +05:00 [INF] Executing OkObjectResult, writing value of type 'EmbeddronicsBackend.Models.ApiResponse`1[[EmbeddronicsBackend.Models.DTOs.AuthResult, EmbeddronicsBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-31 23:13:19.072 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.AuthController.Login (EmbeddronicsBackend) in 1306.0964ms
2025-12-31 23:13:19.075 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.AuthController.Login (EmbeddronicsBackend)'
2025-12-31 23:13:19.077 +05:00 [INF] Request 0HNI8J0NH87O1:00000001 completed successfully with status 200
2025-12-31 23:13:19.081 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5046/api/Auth/login - 200 null application/json; charset=utf-8 1378.2703ms
2025-12-31 23:13:40.054 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Admin/dashboard - null null
2025-12-31 23:13:40.057 +05:00 [INF] Processing request 0HNI8J0NH87O2:00000001: GET /api/Admin/dashboard by user anonymous
2025-12-31 23:13:40.079 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-12-31 23:13:40.083 +05:00 [WRN] JWT Challenge triggered: null
2025-12-31 23:13:40.085 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-31 23:13:40.087 +05:00 [INF] Request 0HNI8J0NH87O2:00000001 completed successfully with status 401
2025-12-31 23:13:40.089 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Admin/dashboard - 401 0 null 34.7136ms
2025-12-31 23:15:08.754 +05:00 [INF] Application is shutting down...
2025-12-31 23:15:08.760 +05:00 [INF] Quote Expiration Service is stopping
2025-12-31 23:15:08.762 +05:00 [INF] Quote Expiration Service stopped
2025-12-31 23:15:22.920 +05:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-31 23:15:23.068 +05:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-31 23:15:23.372 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Role] = N'admin'
2025-12-31 23:15:23.485 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Role] = N'admin') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-31 23:15:23.626 +05:00 [INF] User profile is available. Using 'C:\Users\faizannazir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-31 23:15:23.648 +05:00 [INF] Quote Expiration Service started
2025-12-31 23:15:23.718 +05:00 [INF] Now listening on: http://localhost:5046
2025-12-31 23:15:23.719 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-31 23:15:23.720 +05:00 [INF] Hosting environment: Development
2025-12-31 23:15:23.722 +05:00 [INF] Content root path: E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend
2025-12-31 23:15:23.781 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Amount], [q].[ClientId], [q].[CreatedAt], [q].[Currency], [q].[OrderId], [q].[Status], [q].[UpdatedAt], [q].[ValidUntil], [u].[Id], [u].[Company], [u].[CreatedAt], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Phone], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[Role], [u].[Status], [u].[UpdatedAt]
FROM [Quotes] AS [q]
INNER JOIN [Users] AS [u] ON [q].[ClientId] = [u].[Id]
WHERE [q].[ValidUntil] < GETUTCDATE() AND [q].[Status] = N'pending'
2025-12-31 23:15:29.596 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/ - null null
2025-12-31 23:15:29.661 +05:00 [INF] Processing request 0HNI8J2A6PECA:00000001: GET / by user anonymous
2025-12-31 23:15:29.681 +05:00 [WRN] Failed to determine the https port for redirect.
2025-12-31 23:15:29.711 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-31 23:15:29.717 +05:00 [WRN] JWT Challenge triggered: null
2025-12-31 23:15:29.719 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-31 23:15:29.720 +05:00 [INF] Request 0HNI8J2A6PECA:00000001 completed successfully with status 401
2025-12-31 23:15:29.726 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/ - 401 0 null 131.6978ms
2025-12-31 23:15:33.975 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/swagger/index.html - null null
2025-12-31 23:15:33.979 +05:00 [INF] Processing request 0HNI8J2A6PECC:00000001: GET /swagger/index.html by user anonymous
2025-12-31 23:15:34.069 +05:00 [INF] Request 0HNI8J2A6PECC:00000001 completed successfully with status 200
2025-12-31 23:15:34.072 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/swagger/index.html - 200 null text/html;charset=utf-8 96.4378ms
2025-12-31 23:15:34.384 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/swagger/v1/swagger.json - null null
2025-12-31 23:15:34.393 +05:00 [INF] Processing request 0HNI8J2A6PECC:00000002: GET /swagger/v1/swagger.json by user anonymous
2025-12-31 23:15:34.599 +05:00 [INF] Request 0HNI8J2A6PECC:00000002 completed successfully with status 200
2025-12-31 23:15:34.601 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 217.447ms
2025-12-31 23:15:48.588 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Admin/dashboard - null null
2025-12-31 23:15:48.592 +05:00 [INF] Processing request 0HNI8J2A6PECE:00000001: GET /api/Admin/dashboard by user anonymous
2025-12-31 23:15:48.691 +05:00 [INF] JWT Token validated for user: Faizan Nazir
2025-12-31 23:15:48.697 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.AdminController.GetDashboard (EmbeddronicsBackend)'
2025-12-31 23:15:48.722 +05:00 [INF] Route matched with {action = "GetDashboard", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmbeddronicsBackend.Models.ApiResponse`1[System.Object]]] GetDashboard() on controller EmbeddronicsBackend.Controllers.AdminController (EmbeddronicsBackend).
2025-12-31 23:15:48.851 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] = N'client'
2025-12-31 23:15:48.871 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[Status] = N'in_progress'
2025-12-31 23:15:48.892 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Quotes] AS [q]
WHERE [q].[Status] = N'pending'
2025-12-31 23:15:48.936 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([i].[Amount]), 0.0)
FROM [Invoices] AS [i]
WHERE [i].[Status] = N'paid'
2025-12-31 23:15:49.009 +05:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [t].[Status], [u].[Name] AS [ClientName], [t].[CreatedAt]
FROM (
    SELECT TOP(@__p_0) [o].[Id], [o].[ClientId], [o].[CreatedAt], [o].[Status], [o].[Title]
    FROM [Orders] AS [o]
    ORDER BY [o].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[ClientId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-12-31 23:15:49.020 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[Id], [u].[Name], [u].[Email], [u].[Company], [u].[Status], [u].[CreatedAt]
FROM [Users] AS [u]
WHERE [u].[Role] = N'client'
ORDER BY [u].[CreatedAt] DESC
2025-12-31 23:15:49.041 +05:00 [INF] Executing OkObjectResult, writing value of type 'EmbeddronicsBackend.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-31 23:15:49.131 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.AdminController.GetDashboard (EmbeddronicsBackend) in 401.0942ms
2025-12-31 23:15:49.134 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.AdminController.GetDashboard (EmbeddronicsBackend)'
2025-12-31 23:15:49.136 +05:00 [INF] Request 0HNI8J2A6PECE:00000001 completed successfully with status 200
2025-12-31 23:15:49.140 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Admin/dashboard - 200 null application/json; charset=utf-8 550.6518ms
2025-12-31 23:16:02.563 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Admin/clients?page=1&pageSize=20 - null null
2025-12-31 23:16:02.568 +05:00 [INF] Processing request 0HNI8J2A6PECF:00000001: GET /api/Admin/clients by user anonymous
2025-12-31 23:16:02.584 +05:00 [INF] JWT Token validated for user: Faizan Nazir
2025-12-31 23:16:02.593 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.AdminController.GetClients (EmbeddronicsBackend)'
2025-12-31 23:16:02.623 +05:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmbeddronicsBackend.Models.ApiResponse`1[System.Object]]] GetClients(System.String, System.String, Int32, Int32) on controller EmbeddronicsBackend.Controllers.AdminController (EmbeddronicsBackend).
2025-12-31 23:16:02.687 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] = N'client'
2025-12-31 23:16:02.792 +05:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Name], [u].[Role], [u].[Status], [u].[Company], [u].[Phone], [u].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Orders] AS [o]
    WHERE [u].[Id] = [o].[ClientId]) AS [OrderCount], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o0]
        WHERE [u].[Id] = [o0].[ClientId]) THEN (
        SELECT TOP(1) [o1].[CreatedAt]
        FROM [Orders] AS [o1]
        WHERE [u].[Id] = [o1].[ClientId]
        ORDER BY [o1].[CreatedAt] DESC)
    ELSE NULL
END AS [LastOrderDate]
FROM [Users] AS [u]
WHERE [u].[Role] = N'client'
ORDER BY [u].[CreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-31 23:16:02.795 +05:00 [INF] Executing OkObjectResult, writing value of type 'EmbeddronicsBackend.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-31 23:16:02.809 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.AdminController.GetClients (EmbeddronicsBackend) in 184.1105ms
2025-12-31 23:16:02.811 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.AdminController.GetClients (EmbeddronicsBackend)'
2025-12-31 23:16:02.812 +05:00 [INF] Request 0HNI8J2A6PECF:00000001 completed successfully with status 200
2025-12-31 23:16:02.817 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Admin/clients?page=1&pageSize=20 - 200 null application/json; charset=utf-8 253.7652ms
2025-12-31 23:16:15.421 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Admin/orders?page=1&pageSize=20 - null null
2025-12-31 23:16:15.424 +05:00 [INF] Processing request 0HNI8J2A6PECG:00000001: GET /api/Admin/orders by user anonymous
2025-12-31 23:16:15.426 +05:00 [INF] JWT Token validated for user: Faizan Nazir
2025-12-31 23:16:15.427 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.AdminController.GetOrders (EmbeddronicsBackend)'
2025-12-31 23:16:15.437 +05:00 [INF] Route matched with {action = "GetOrders", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmbeddronicsBackend.Models.ApiResponse`1[System.Object]]] GetOrders(System.String, System.Nullable`1[System.Int32], Int32, Int32) on controller EmbeddronicsBackend.Controllers.AdminController (EmbeddronicsBackend).
2025-12-31 23:16:15.475 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[BudgetRange], [o].[ClientId], [o].[CreatedAt], [o].[Description], [o].[PcbSpecs], [o].[Status], [o].[Timeline], [o].[Title], [o].[UpdatedAt]
FROM [Orders] AS [o]
2025-12-31 23:16:15.487 +05:00 [INF] Executing OkObjectResult, writing value of type 'EmbeddronicsBackend.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-31 23:16:15.506 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.AdminController.GetOrders (EmbeddronicsBackend) in 65.2798ms
2025-12-31 23:16:15.510 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.AdminController.GetOrders (EmbeddronicsBackend)'
2025-12-31 23:16:15.512 +05:00 [INF] Request 0HNI8J2A6PECG:00000001 completed successfully with status 200
2025-12-31 23:16:15.513 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Admin/orders?page=1&pageSize=20 - 200 null application/json; charset=utf-8 92.1364ms
2025-12-31 23:16:30.383 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Admin/quotes?page=1&pageSize=20 - null null
2025-12-31 23:16:30.386 +05:00 [INF] Processing request 0HNI8J2A6PECH:00000001: GET /api/Admin/quotes by user anonymous
2025-12-31 23:16:30.389 +05:00 [INF] JWT Token validated for user: Faizan Nazir
2025-12-31 23:16:30.390 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.AdminController.GetQuotes (EmbeddronicsBackend)'
2025-12-31 23:16:30.429 +05:00 [INF] Route matched with {action = "GetQuotes", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmbeddronicsBackend.Models.ApiResponse`1[System.Object]]] GetQuotes(System.String, System.Nullable`1[System.Int32], Int32, Int32) on controller EmbeddronicsBackend.Controllers.AdminController (EmbeddronicsBackend).
2025-12-31 23:16:30.470 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Quotes] AS [q]
2025-12-31 23:16:30.527 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Amount], [t].[Currency], [t].[Status], [t].[ValidUntil], [t].[CreatedAt], [u].[Name] AS [ClientName], CASE
    WHEN [o].[Id] IS NOT NULL THEN [o].[Title]
    ELSE N'Unknown Order'
END AS [OrderTitle]
FROM (
    SELECT [q].[Id], [q].[Amount], [q].[ClientId], [q].[CreatedAt], [q].[Currency], [q].[OrderId], [q].[Status], [q].[ValidUntil]
    FROM [Quotes] AS [q]
    ORDER BY [q].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[ClientId] = [u].[Id]
LEFT JOIN [Orders] AS [o] ON [t].[OrderId] = [o].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-12-31 23:16:30.529 +05:00 [INF] Executing OkObjectResult, writing value of type 'EmbeddronicsBackend.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-31 23:16:30.535 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.AdminController.GetQuotes (EmbeddronicsBackend) in 91.9197ms
2025-12-31 23:16:30.536 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.AdminController.GetQuotes (EmbeddronicsBackend)'
2025-12-31 23:16:30.537 +05:00 [INF] Request 0HNI8J2A6PECH:00000001 completed successfully with status 200
2025-12-31 23:16:30.538 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Admin/quotes?page=1&pageSize=20 - 200 null application/json; charset=utf-8 154.2239ms
2025-12-31 23:16:53.963 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5046/api/Admin/quotes - application/json 243
2025-12-31 23:16:53.965 +05:00 [INF] Processing request 0HNI8J2A6PECI:00000001: POST /api/Admin/quotes by user anonymous
2025-12-31 23:16:53.968 +05:00 [INF] CORS policy execution successful.
2025-12-31 23:16:53.970 +05:00 [INF] JWT Token validated for user: Faizan Nazir
2025-12-31 23:16:53.971 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.AdminController.CreateQuote (EmbeddronicsBackend)'
2025-12-31 23:16:54.077 +05:00 [INF] Route matched with {action = "CreateQuote", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmbeddronicsBackend.Models.ApiResponse`1[System.Object]]] CreateQuote(EmbeddronicsBackend.Models.DTOs.CreateQuoteRequest) on controller EmbeddronicsBackend.Controllers.AdminController (EmbeddronicsBackend).
2025-12-31 23:16:54.334 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-31 23:16:54.382 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.AdminController.CreateQuote (EmbeddronicsBackend) in 269.3885ms
2025-12-31 23:16:54.384 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.AdminController.CreateQuote (EmbeddronicsBackend)'
2025-12-31 23:16:54.386 +05:00 [INF] Request 0HNI8J2A6PECI:00000001 completed successfully with status 400
2025-12-31 23:16:54.388 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5046/api/Admin/quotes - 400 null application/problem+json; charset=utf-8 424.9234ms
2025-12-31 23:17:53.515 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Admin/leads - null null
2025-12-31 23:17:53.518 +05:00 [INF] Processing request 0HNI8J2A6PECJ:00000001: GET /api/Admin/leads by user anonymous
2025-12-31 23:17:53.522 +05:00 [INF] JWT Token validated for user: Faizan Nazir
2025-12-31 23:17:53.524 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.AdminController.GetLeads (EmbeddronicsBackend)'
2025-12-31 23:17:53.567 +05:00 [INF] Route matched with {action = "GetLeads", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmbeddronicsBackend.Models.ApiResponse`1[System.Object]]] GetLeads() on controller EmbeddronicsBackend.Controllers.AdminController (EmbeddronicsBackend).
2025-12-31 23:17:53.590 +05:00 [INF] Executing OkObjectResult, writing value of type 'EmbeddronicsBackend.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-31 23:17:53.615 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.AdminController.GetLeads (EmbeddronicsBackend) in 33.4569ms
2025-12-31 23:17:53.622 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.AdminController.GetLeads (EmbeddronicsBackend)'
2025-12-31 23:17:53.623 +05:00 [INF] Request 0HNI8J2A6PECJ:00000001 completed successfully with status 200
2025-12-31 23:17:53.624 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Admin/leads - 200 null application/json; charset=utf-8 109.2361ms
2025-12-31 23:18:02.100 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Admin/reviews - null null
2025-12-31 23:18:02.102 +05:00 [INF] Processing request 0HNI8J2A6PECK:00000001: GET /api/Admin/reviews by user anonymous
2025-12-31 23:18:02.104 +05:00 [INF] JWT Token validated for user: Faizan Nazir
2025-12-31 23:18:02.106 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.AdminController.GetReviews (EmbeddronicsBackend)'
2025-12-31 23:18:02.110 +05:00 [INF] Route matched with {action = "GetReviews", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmbeddronicsBackend.Models.ApiResponse`1[System.Object]]] GetReviews() on controller EmbeddronicsBackend.Controllers.AdminController (EmbeddronicsBackend).
2025-12-31 23:18:02.116 +05:00 [INF] Executing OkObjectResult, writing value of type 'EmbeddronicsBackend.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-31 23:18:02.118 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.AdminController.GetReviews (EmbeddronicsBackend) in 3.4008ms
2025-12-31 23:18:02.135 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.AdminController.GetReviews (EmbeddronicsBackend)'
2025-12-31 23:18:02.168 +05:00 [INF] Request 0HNI8J2A6PECK:00000001 completed successfully with status 200
2025-12-31 23:18:02.177 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Admin/reviews - 200 null application/json; charset=utf-8 76.3846ms
2025-12-31 23:18:15.887 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Blog - null null
2025-12-31 23:18:15.889 +05:00 [INF] Processing request 0HNI8J2A6PECL:00000001: GET /api/Blog by user anonymous
2025-12-31 23:18:15.892 +05:00 [INF] JWT Token validated for user: Faizan Nazir
2025-12-31 23:18:15.892 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.BlogController.GetAll (EmbeddronicsBackend)'
2025-12-31 23:18:15.897 +05:00 [INF] Route matched with {action = "GetAll", controller = "Blog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmbeddronicsBackend.Models.ApiResponse`1[System.Collections.Generic.IEnumerable`1[EmbeddronicsBackend.Models.BlogPost]]]] GetAll() on controller EmbeddronicsBackend.Controllers.BlogController (EmbeddronicsBackend).
2025-12-31 23:18:15.985 +05:00 [INF] Loaded 3 BlogPost records from blogposts.json into dictionary
2025-12-31 23:18:15.994 +05:00 [INF] Blog posts accessed by user: Faizan Nazir
2025-12-31 23:18:15.996 +05:00 [INF] Getting all BlogPost records
2025-12-31 23:18:16.001 +05:00 [INF] Executing OkObjectResult, writing value of type 'EmbeddronicsBackend.Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EmbeddronicsBackend.Models.BlogPost, EmbeddronicsBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-31 23:18:16.014 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.BlogController.GetAll (EmbeddronicsBackend) in 83.1504ms
2025-12-31 23:18:16.018 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.BlogController.GetAll (EmbeddronicsBackend)'
2025-12-31 23:18:16.019 +05:00 [INF] Request 0HNI8J2A6PECL:00000001 completed successfully with status 200
2025-12-31 23:18:16.026 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Blog - 200 null application/json; charset=utf-8 138.2636ms
2025-12-31 23:18:33.676 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Logs/files - null null
2025-12-31 23:18:33.678 +05:00 [INF] Processing request 0HNI8J2A6PECM:00000001: GET /api/Logs/files by user anonymous
2025-12-31 23:18:33.680 +05:00 [INF] JWT Token validated for user: Faizan Nazir
2025-12-31 23:18:33.681 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.LogsController.GetLogFiles (EmbeddronicsBackend)'
2025-12-31 23:18:33.682 +05:00 [INF] Route matched with {action = "GetLogFiles", controller = "Logs"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetLogFiles() on controller EmbeddronicsBackend.Controllers.LogsController (EmbeddronicsBackend).
2025-12-31 23:18:33.684 +05:00 [INF] Admin accessing log files list by user: Faizan Nazir
2025-12-31 23:18:33.690 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType24`1[[System.Collections.Generic.List`1[[<>f__AnonymousType25`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], EmbeddronicsBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-31 23:18:33.706 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.LogsController.GetLogFiles (EmbeddronicsBackend) in 23.5324ms
2025-12-31 23:18:33.711 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.LogsController.GetLogFiles (EmbeddronicsBackend)'
2025-12-31 23:18:33.713 +05:00 [INF] Request 0HNI8J2A6PECM:00000001 completed successfully with status 200
2025-12-31 23:18:33.715 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Logs/files - 200 null application/json; charset=utf-8 38.8909ms
2025-12-31 23:18:45.546 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Logs/stats - null null
2025-12-31 23:18:45.549 +05:00 [INF] Processing request 0HNI8J2A6PECN:00000001: GET /api/Logs/stats by user anonymous
2025-12-31 23:18:45.551 +05:00 [INF] JWT Token validated for user: Faizan Nazir
2025-12-31 23:18:45.553 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.LogsController.GetLogStats (EmbeddronicsBackend)'
2025-12-31 23:18:45.555 +05:00 [INF] Route matched with {action = "GetLogStats", controller = "Logs"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetLogStats() on controller EmbeddronicsBackend.Controllers.LogsController (EmbeddronicsBackend).
2025-12-31 23:18:45.557 +05:00 [INF] Admin accessing log statistics by user: Faizan Nazir
2025-12-31 23:18:45.573 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.LogsController.GetLogStats (EmbeddronicsBackend) in 16.2793ms
2025-12-31 23:18:45.575 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.LogsController.GetLogStats (EmbeddronicsBackend)'
2025-12-31 23:18:45.577 +05:00 [ERR] Error in authentication middleware
System.IO.IOException: The process cannot access the file 'E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend\logs\embeddronics-log-20251231.txt' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.StreamReader.ValidateArgsAndOpenPath(String path, Encoding encoding, Int32 bufferSize)
   at System.IO.File.ReadAllLines(String path, Encoding encoding)
   at EmbeddronicsBackend.Controllers.LogsController.GetLogStats() in E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend\Controllers\LogsController.cs:line 120
   at lambda_method209(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmbeddronicsBackend.Middleware.AuthenticationMiddleware.InvokeAsync(HttpContext context, IJwtTokenService jwtTokenService) in E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend\Middleware\AuthenticationMiddleware.cs:line 44
2025-12-31 23:18:45.643 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.LogsController.GetLogStats (EmbeddronicsBackend)'
2025-12-31 23:18:45.645 +05:00 [INF] Route matched with {action = "GetLogStats", controller = "Logs"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetLogStats() on controller EmbeddronicsBackend.Controllers.LogsController (EmbeddronicsBackend).
2025-12-31 23:18:45.647 +05:00 [INF] Admin accessing log statistics by user: Faizan Nazir
2025-12-31 23:18:45.649 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.LogsController.GetLogStats (EmbeddronicsBackend) in 1.3103ms
2025-12-31 23:18:45.650 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.LogsController.GetLogStats (EmbeddronicsBackend)'
2025-12-31 23:18:45.651 +05:00 [ERR] Request 0HNI8J2A6PECN:00000001 failed with exception. Method: GET, Path: /api/Logs/stats, User: anonymous
System.IO.IOException: The process cannot access the file 'E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend\logs\embeddronics-log-20251231.txt' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.StreamReader.ValidateArgsAndOpenPath(String path, Encoding encoding, Int32 bufferSize)
   at System.IO.File.ReadAllLines(String path, Encoding encoding)
   at EmbeddronicsBackend.Controllers.LogsController.GetLogStats() in E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend\Controllers\LogsController.cs:line 120
   at lambda_method209(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmbeddronicsBackend.Middleware.AuthenticationMiddleware.InvokeAsync(HttpContext context, IJwtTokenService jwtTokenService) in E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend\Middleware\AuthenticationMiddleware.cs:line 51
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at EmbeddronicsBackend.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend\Middleware\ExceptionHandlingMiddleware.cs:line 34
2025-12-31 23:18:45.665 +05:00 [ERR] Exception handled by middleware. Status Code: 500, Exception Type: IOException
System.IO.IOException: The process cannot access the file 'E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend\logs\embeddronics-log-20251231.txt' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.StreamReader.ValidateArgsAndOpenPath(String path, Encoding encoding, Int32 bufferSize)
   at System.IO.File.ReadAllLines(String path, Encoding encoding)
   at EmbeddronicsBackend.Controllers.LogsController.GetLogStats() in E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend\Controllers\LogsController.cs:line 120
   at lambda_method209(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EmbeddronicsBackend.Middleware.AuthenticationMiddleware.InvokeAsync(HttpContext context, IJwtTokenService jwtTokenService) in E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend\Middleware\AuthenticationMiddleware.cs:line 51
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at EmbeddronicsBackend.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in E:\Embeddronics\EmbeddronicsBackend\EmbeddronicsBackend\Middleware\ExceptionHandlingMiddleware.cs:line 34
2025-12-31 23:18:45.684 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Logs/stats - 500 null application/json 137.6934ms
2025-12-31 23:19:05.748 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Products - null null
2025-12-31 23:19:05.750 +05:00 [INF] Processing request 0HNI8J2A6PECO:00000001: GET /api/Products by user anonymous
2025-12-31 23:19:05.755 +05:00 [INF] JWT Token validated for user: Faizan Nazir
2025-12-31 23:19:05.755 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.ProductsController.GetAll (EmbeddronicsBackend)'
2025-12-31 23:19:05.763 +05:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmbeddronicsBackend.Models.ApiResponse`1[System.Collections.Generic.IEnumerable`1[EmbeddronicsBackend.Models.Product]]]] GetAll() on controller EmbeddronicsBackend.Controllers.ProductsController (EmbeddronicsBackend).
2025-12-31 23:19:05.789 +05:00 [INF] Loaded 3 Product records from products.json into dictionary
2025-12-31 23:19:05.796 +05:00 [INF] Products list accessed by user: Faizan Nazir
2025-12-31 23:19:05.803 +05:00 [INF] Getting all Product records
2025-12-31 23:19:05.808 +05:00 [INF] Executing OkObjectResult, writing value of type 'EmbeddronicsBackend.Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EmbeddronicsBackend.Models.Product, EmbeddronicsBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-31 23:19:05.838 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.ProductsController.GetAll (EmbeddronicsBackend) in 72.9463ms
2025-12-31 23:19:05.840 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.ProductsController.GetAll (EmbeddronicsBackend)'
2025-12-31 23:19:05.846 +05:00 [INF] Request 0HNI8J2A6PECO:00000001 completed successfully with status 200
2025-12-31 23:19:05.848 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Products - 200 null application/json; charset=utf-8 100.2547ms
2025-12-31 23:19:19.860 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Projects - null null
2025-12-31 23:19:19.863 +05:00 [INF] Processing request 0HNI8J2A6PECP:00000001: GET /api/Projects by user anonymous
2025-12-31 23:19:19.865 +05:00 [INF] JWT Token validated for user: Faizan Nazir
2025-12-31 23:19:19.866 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.ProjectsController.GetAll (EmbeddronicsBackend)'
2025-12-31 23:19:19.870 +05:00 [INF] Route matched with {action = "GetAll", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmbeddronicsBackend.Models.ApiResponse`1[System.Collections.Generic.IEnumerable`1[EmbeddronicsBackend.Models.Project]]]] GetAll() on controller EmbeddronicsBackend.Controllers.ProjectsController (EmbeddronicsBackend).
2025-12-31 23:19:19.913 +05:00 [INF] Loaded 5 Project records from projects.json into dictionary
2025-12-31 23:19:19.916 +05:00 [INF] Projects list accessed by user: Faizan Nazir
2025-12-31 23:19:19.918 +05:00 [INF] Getting all Project records
2025-12-31 23:19:19.920 +05:00 [INF] Executing OkObjectResult, writing value of type 'EmbeddronicsBackend.Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EmbeddronicsBackend.Models.Project, EmbeddronicsBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-31 23:19:19.932 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.ProjectsController.GetAll (EmbeddronicsBackend) in 60.2893ms
2025-12-31 23:19:19.935 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.ProjectsController.GetAll (EmbeddronicsBackend)'
2025-12-31 23:19:19.937 +05:00 [INF] Request 0HNI8J2A6PECP:00000001 completed successfully with status 200
2025-12-31 23:19:19.939 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Projects - 200 null application/json; charset=utf-8 78.2168ms
2025-12-31 23:19:30.787 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Quotes - null null
2025-12-31 23:19:30.789 +05:00 [INF] Processing request 0HNI8J2A6PECQ:00000001: GET /api/Quotes by user anonymous
2025-12-31 23:19:30.791 +05:00 [INF] JWT Token validated for user: Faizan Nazir
2025-12-31 23:19:30.792 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.QuotesController.GetQuotes (EmbeddronicsBackend)'
2025-12-31 23:19:30.797 +05:00 [INF] Route matched with {action = "GetQuotes", controller = "Quotes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmbeddronicsBackend.Models.ApiResponse`1[System.Collections.Generic.IEnumerable`1[EmbeddronicsBackend.Models.DTOs.QuoteDto]]]] GetQuotes(System.Nullable`1[System.Int32]) on controller EmbeddronicsBackend.Controllers.QuotesController (EmbeddronicsBackend).
2025-12-31 23:19:30.819 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Amount], [q].[ClientId], [q].[CreatedAt], [q].[Currency], [q].[OrderId], [q].[Status], [q].[UpdatedAt], [q].[ValidUntil]
FROM [Quotes] AS [q]
2025-12-31 23:19:30.824 +05:00 [INF] Executing OkObjectResult, writing value of type 'EmbeddronicsBackend.Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EmbeddronicsBackend.Models.DTOs.QuoteDto, EmbeddronicsBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-31 23:19:30.833 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.QuotesController.GetQuotes (EmbeddronicsBackend) in 34.0178ms
2025-12-31 23:19:30.835 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.QuotesController.GetQuotes (EmbeddronicsBackend)'
2025-12-31 23:19:30.838 +05:00 [INF] Request 0HNI8J2A6PECQ:00000001 completed successfully with status 200
2025-12-31 23:19:30.840 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Quotes - 200 null application/json; charset=utf-8 52.4032ms
2025-12-31 23:19:44.865 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Services - null null
2025-12-31 23:19:44.868 +05:00 [INF] Processing request 0HNI8J2A6PECR:00000001: GET /api/Services by user anonymous
2025-12-31 23:19:44.872 +05:00 [INF] JWT Token validated for user: Faizan Nazir
2025-12-31 23:19:44.875 +05:00 [INF] Executing endpoint 'EmbeddronicsBackend.Controllers.ServicesController.GetAll (EmbeddronicsBackend)'
2025-12-31 23:19:44.899 +05:00 [INF] Route matched with {action = "GetAll", controller = "Services"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EmbeddronicsBackend.Models.ApiResponse`1[System.Collections.Generic.IEnumerable`1[EmbeddronicsBackend.Models.Service]]]] GetAll() on controller EmbeddronicsBackend.Controllers.ServicesController (EmbeddronicsBackend).
2025-12-31 23:19:44.916 +05:00 [INF] Loaded 5 Service records from services.json into dictionary
2025-12-31 23:19:44.925 +05:00 [INF] Services list accessed by user: Faizan Nazir
2025-12-31 23:19:44.926 +05:00 [INF] Getting all Service records
2025-12-31 23:19:44.931 +05:00 [INF] Executing OkObjectResult, writing value of type 'EmbeddronicsBackend.Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EmbeddronicsBackend.Models.Service, EmbeddronicsBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-31 23:19:44.940 +05:00 [INF] Executed action EmbeddronicsBackend.Controllers.ServicesController.GetAll (EmbeddronicsBackend) in 32.1613ms
2025-12-31 23:19:44.941 +05:00 [INF] Executed endpoint 'EmbeddronicsBackend.Controllers.ServicesController.GetAll (EmbeddronicsBackend)'
2025-12-31 23:19:44.942 +05:00 [INF] Request 0HNI8J2A6PECR:00000001 completed successfully with status 200
2025-12-31 23:19:44.946 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Services - 200 null application/json; charset=utf-8 79.958ms
2025-12-31 23:23:07.791 +05:00 [INF] Application is shutting down...
2025-12-31 23:23:07.798 +05:00 [INF] Quote Expiration Service is stopping
2025-12-31 23:23:07.800 +05:00 [INF] Quote Expiration Service stopped
2025-12-31 23:27:39.427 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-31 23:27:39.506 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-12-31 23:27:39.511 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-31 23:27:39.514 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-12-31 23:27:39.550 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-12-31 23:27:39.572 +05:00 [INF] Applying migration '20251231182725_AddChatEntities'.
2025-12-31 23:27:39.686 +05:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ChatMessages] (
    [Id] int NOT NULL IDENTITY,
    [SenderId] int NOT NULL,
    [RecipientId] int NULL,
    [OrderId] int NULL,
    [ChatRoom] nvarchar(100) NOT NULL,
    [Content] nvarchar(4000) NOT NULL,
    [MessageType] nvarchar(50) NOT NULL DEFAULT N'text',
    [Attachments] nvarchar(max) NULL,
    [IsRead] bit NOT NULL DEFAULT CAST(0 AS bit),
    [ReadAt] datetime2 NULL,
    [IsEdited] bit NOT NULL DEFAULT CAST(0 AS bit),
    [IsDeleted] bit NOT NULL DEFAULT CAST(0 AS bit),
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [UpdatedAt] datetime2 NULL,
    CONSTRAINT [PK_ChatMessages] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ChatMessages_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_ChatMessages_Users_RecipientId] FOREIGN KEY ([RecipientId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_ChatMessages_Users_SenderId] FOREIGN KEY ([SenderId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2025-12-31 23:27:39.692 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserConnections] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [ConnectionId] nvarchar(255) NOT NULL,
    [UserAgent] nvarchar(500) NULL,
    [IpAddress] nvarchar(50) NULL,
    [IsConnected] bit NOT NULL DEFAULT CAST(1 AS bit),
    [ConnectedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    [DisconnectedAt] datetime2 NULL,
    [LastActivityAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_UserConnections] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserConnections_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-12-31 23:27:39.700 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ChatMessages_ChatRoom] ON [ChatMessages] ([ChatRoom]);
2025-12-31 23:27:39.705 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ChatMessages_ChatRoom_CreatedAt] ON [ChatMessages] ([ChatRoom], [CreatedAt]);
2025-12-31 23:27:39.710 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ChatMessages_CreatedAt] ON [ChatMessages] ([CreatedAt]);
2025-12-31 23:27:39.715 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ChatMessages_OrderId] ON [ChatMessages] ([OrderId]);
2025-12-31 23:27:39.719 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ChatMessages_RecipientId] ON [ChatMessages] ([RecipientId]);
2025-12-31 23:27:39.724 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ChatMessages_SenderId] ON [ChatMessages] ([SenderId]);
2025-12-31 23:27:39.728 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserConnections_ConnectionId] ON [UserConnections] ([ConnectionId]);
2025-12-31 23:27:39.741 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserConnections_IsConnected] ON [UserConnections] ([IsConnected]);
2025-12-31 23:27:39.747 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserConnections_UserId] ON [UserConnections] ([UserId]);
2025-12-31 23:27:39.762 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251231182725_AddChatEntities', N'8.0.0');
2025-12-31 23:35:35.283 +05:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-31 23:35:35.404 +05:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-12-31 23:35:35.409 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-31 23:35:35.412 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-12-31 23:35:35.455 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-12-31 23:35:35.488 +05:00 [INF] Applying migration '20251231183521_AddChatManagementSystem'.
2025-12-31 23:35:35.657 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [ChatMessages] ADD [ConversationId] int NULL;
2025-12-31 23:35:35.662 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [ChatMessages] ADD [IsPinned] bit NOT NULL DEFAULT CAST(0 AS bit);
2025-12-31 23:35:35.666 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [ChatMessages] ADD [ParentMessageId] int NULL;
2025-12-31 23:35:35.669 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [ChatMessages] ADD [Priority] nvarchar(20) NOT NULL DEFAULT N'normal';
2025-12-31 23:35:35.672 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [ChatMessages] ADD [ReplyCount] int NOT NULL DEFAULT 0;
2025-12-31 23:35:35.693 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ChatAttachments] (
    [Id] int NOT NULL IDENTITY,
    [MessageId] int NOT NULL,
    [UploadedById] int NOT NULL,
    [FileName] nvarchar(255) NOT NULL,
    [StoredFileName] nvarchar(255) NOT NULL,
    [FilePath] nvarchar(500) NOT NULL,
    [ContentType] nvarchar(100) NOT NULL,
    [FileSize] bigint NOT NULL,
    [FileExtension] nvarchar(20) NULL,
    [ThumbnailPath] nvarchar(500) NULL,
    [FileCategory] nvarchar(50) NOT NULL DEFAULT N'other',
    [IsScanned] bit NOT NULL DEFAULT CAST(0 AS bit),
    [IsSafe] bit NOT NULL DEFAULT CAST(1 AS bit),
    [FileHash] nvarchar(128) NULL,
    [DownloadCount] int NOT NULL DEFAULT 0,
    [IsDeleted] bit NOT NULL DEFAULT CAST(0 AS bit),
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_ChatAttachments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ChatAttachments_ChatMessages_MessageId] FOREIGN KEY ([MessageId]) REFERENCES [ChatMessages] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_ChatAttachments_Users_UploadedById] FOREIGN KEY ([UploadedById]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2025-12-31 23:35:35.701 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [MessageReadReceipts] (
    [Id] int NOT NULL IDENTITY,
    [MessageId] int NOT NULL,
    [UserId] int NOT NULL,
    [ReadAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_MessageReadReceipts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_MessageReadReceipts_ChatMessages_MessageId] FOREIGN KEY ([MessageId]) REFERENCES [ChatMessages] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MessageReadReceipts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-12-31 23:35:35.708 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserActivityLogs] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [ActivityType] nvarchar(50) NOT NULL,
    [ActivityDetails] nvarchar(max) NULL,
    [ChatRoom] nvarchar(100) NULL,
    [IpAddress] nvarchar(50) NULL,
    [UserAgent] nvarchar(500) NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETUTCDATE()),
    CONSTRAINT [PK_UserActivityLogs] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserActivityLogs_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-12-31 23:35:35.716 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ChatMessages_ChatRoom_IsPinned] ON [ChatMessages] ([ChatRoom], [IsPinned]);
2025-12-31 23:35:35.721 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ChatMessages_ConversationId] ON [ChatMessages] ([ConversationId]);
2025-12-31 23:35:35.726 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ChatMessages_ParentMessageId] ON [ChatMessages] ([ParentMessageId]);
2025-12-31 23:35:35.732 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ChatAttachments_MessageId] ON [ChatAttachments] ([MessageId]);
2025-12-31 23:35:35.736 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ChatAttachments_UploadedById] ON [ChatAttachments] ([UploadedById]);
2025-12-31 23:35:35.743 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_MessageReadReceipts_MessageId_UserId] ON [MessageReadReceipts] ([MessageId], [UserId]);
2025-12-31 23:35:35.749 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_MessageReadReceipts_UserId] ON [MessageReadReceipts] ([UserId]);
2025-12-31 23:35:35.754 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserActivityLogs_ActivityType] ON [UserActivityLogs] ([ActivityType]);
2025-12-31 23:35:35.761 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserActivityLogs_CreatedAt] ON [UserActivityLogs] ([CreatedAt]);
2025-12-31 23:35:35.764 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserActivityLogs_UserId] ON [UserActivityLogs] ([UserId]);
2025-12-31 23:35:35.769 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserActivityLogs_UserId_CreatedAt] ON [UserActivityLogs] ([UserId], [CreatedAt]);
2025-12-31 23:35:35.775 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [ChatMessages] ADD CONSTRAINT [FK_ChatMessages_ChatMessages_ParentMessageId] FOREIGN KEY ([ParentMessageId]) REFERENCES [ChatMessages] ([Id]) ON DELETE NO ACTION;
2025-12-31 23:35:35.790 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251231183521_AddChatManagementSystem', N'8.0.0');
